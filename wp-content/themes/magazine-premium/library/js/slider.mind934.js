
(function($){$.fn.scrollslide=function(options){var defaults={speed:2000,timer:5000,slideshow:true,easing:'easeInOutQuart',text:false,},options=$.extend(defaults,options);return this.each(function(){var obj=$(this),texts=obj.find('.content'),content=obj.find('.images'),scrollerota=(options.text),loop,new_height;obj.find('.dot-selector').on('click','span',function(){moveSlides($(this));clearInterval(loop);}).end().find('.image-anchor:eq(0)').clone().appendTo('.images',obj);if(scrollerota)obj.find('.slide:eq(0)').clone().appendTo(texts);obj.find('.mobile-controls').on('click','.mobile-next',function(){if(obj.find('.dot-selector .selected').next().length)obj.find('.dot-selector .selected').next().trigger('click');else obj.find('.dot-selector span:first').trigger('click');}).on('click','.mobile-prev',function(){if(obj.find('.dot-selector .selected').prev().length)obj.find('.dot-selector .selected').prev().trigger('click');else obj.find('.dot-selector span:last').trigger('click');});$(window).resize(function(){obj.find('.dot-selector span').removeClass('selected').eq(0).addClass('selected');texts.css('top',0);content.css('left',0);});if(options.slideshow){loop=setInterval(function(){moveSlides();},options.timer);}
function moveSlides(el){var dot=obj.find('.dot-selector span'),the_width=obj.outerWidth(),new_height=content.outerHeight();last_top=obj.find('.dot-selector span').length*new_height,last_left=obj.find('.dot-selector span').length*the_width;el=(el)?el:obj.find('.dot-selector span.selected').next();dot.removeClass('selected');if(el.length){curLeft=el.data('slide')*the_width;curTop=el.data('slide')*new_height;el.addClass('selected');}else{curLeft=last_left;curTop=last_top;dot.eq(0).addClass('selected');}
if(scrollerota){texts.not(':animated').animate({top:-curTop+'px'},options.speed,options.easing,function(){if(curTop==last_top){texts.css('top',0);}});}
content.not(':animated').animate({left:-curLeft+'px'},options.speed,options.easing,function(){if(curLeft==last_left){content.css('left',0);dot.eq(0).addClass('selected');}});};});};$.fn.tabberota=function(options){var defaults={speed:1200,timer:6000,slideshow:true,nu:false},options=$.extend(defaults,options);return this.each(function(){var obj=$(this),total=(options.nu)?5:4,loop;obj.find('.images').on('click','.tab',function(){switch_tabs($(this));clearInterval(loop);});obj.find('.mobile-controls').on('click','.mobile-next',function(){if(obj.find('.tab.selected').next().length)obj.find('.tab.selected').next().trigger('click');else obj.find('.tab:first').trigger('click');}).on('click','.mobile-prev',function(){if(obj.find('.tab.selected').prev().length)obj.find('.tab.selected').prev().trigger('click');else obj.find('.tab:last').trigger('click');});if(options.slideshow){count=0;loop=setInterval(function(){count=(++count<total)?count:0;switch_tabs(obj.find('.tab').eq(count));},options.timer);}
function switch_tabs(el){obj.find('.tab, .slide').removeClass('selected');el.addClass('selected');obj.find('.slide').eq(el.data('tab')).addClass('selected');}});};var slider=$('#slider-wrap'),the_class=slider.attr('class');slider_type=('-1'==the_class.indexOf(' '))?the_class:the_class.substr(0,the_class.indexOf(' '));if('scrollerota'==slider_type||'sliderota'==slider_type){var text=('scrollerota'==slider_type)?true:false;slider.scrollslide({speed:1200,timer:theme_js_vars['interval'],slideshow:theme_js_vars['autoplay'],easing:'easeInOutQuart',text:text});}else{var nu=('tabberota_nu'==slider_type)?true:false;slider.tabberota({timer:theme_js_vars['interval'],slideshow:theme_js_vars['autoplay'],nu:nu});}})(jQuery);